<div class="container" *ngIf="isNotLoading | async; else spinner">
    <div class="row">
        <div class="col-md-4" *ngFor="let product of products">
            <app-product-item [product]="product"></app-product-item>
        </div>
        <div class="products-empty" *ngIf="emptyProducts">
            {{ "Shared.empty" | translate }}
        </div>
    </div>

    <div class="products-footer">
        <ul class="pagination pg-blue" *ngIf="pager?.pages && pager?.pages?.length > 1">
            <li class="page-item" *ngIf="pager.currentPage !== 1" (click)="products.length = 0">
                <a [routerLink]="['/products']" [queryParams]="{ page: pager.currentPage - 1 }"
                    queryParamsHandling="merge" class="page-link">
                    <span aria-hidden="true" class="fas fa-long-arrow-alt-left"></span>
                    <span class="sr-only">Previous</span>
                </a>
            </li>
            <li class="page-item number-item" *ngFor="let page of pager.pages"
                [ngClass]="{active:pager.currentPage === page}" (click)="products.length = 0">
                <a [routerLink]="['/products']" [queryParams]="{ page: page }" queryParamsHandling="merge"
                    class="page-link">{{page}}
                </a>
            </li>
            <li class="page-item" *ngIf="pager.currentPage !== pager.totalPages" (click)="products.length = 0">
                <a [routerLink]="['/products']" [queryParams]="{ page: pager.currentPage + 1 }" queryParamsHandling="merge"
                    class="page-link">
                    <span aria-hidden="true" class="fas fa-long-arrow-alt-right"></span>
                    <span class="sr-only">Next</span>
                </a>
            </li>
        </ul>
    </div>
</div>

<ng-template #spinner>
    <div class="spinner__wrapper">
        <div class="spinner-border text-dark" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
</ng-template>
